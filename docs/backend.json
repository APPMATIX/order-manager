{
  "version": "1.2.1",
  "title": "B2B Order Manager Schema",
  "entities": {
    "User": {
      "description": "Primary user profile containing role and regional settings.",
      "properties": {
        "id": "UID from Firebase Auth",
        "userType": "vendor | admin | client",
        "country": "AE | IN",
        "companyName": "Legal entity name",
        "vendorId": "Reference to parent vendor (for clients)",
        "trn": "Tax Registration Number (TRN/GSTIN)",
        "photoURL": "Base64 profile avatar"
      }
    },
    "Product": {
      "description": "Product catalog items with barcode support.",
      "properties": {
        "id": "Auto-generated UID",
        "sku": "Unique SKU (e.g. SKU-APP-001)",
        "name": "Product Name",
        "price": "Unit Price",
        "costPrice": "Vendor procurement cost",
        "unit": "Measurement Unit",
        "barcode": "Universal barcode for quick scanning"
      }
    },
    "Order": {
      "description": "Sales transaction records.",
      "properties": {
        "id": "Auto-generated UID",
        "customOrderId": "Human-readable ID (e.g. INV-0001)",
        "status": "Awaiting Pricing | Priced | Pending | Delivered",
        "invoiceType": "Normal | VAT",
        "paymentStatus": "Unpaid | Paid | Overdue",
        "lineItems": "Array of {productId, name, quantity, unitPrice, costPrice}",
        "printCount": "Number of times the invoice was generated/printed"
      }
    },
    "PurchaseBill": {
      "description": "Expenditure records for COGS tracking.",
      "properties": {
        "vendorName": "External supplier name",
        "subTotal": "Amount before tax",
        "vatAmount": "Calculated or AI-extracted tax",
        "lineItems": "Extracted via Genkit Flow"
      }
    }
  }
}
